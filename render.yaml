# "Blueprint" do Render para a aplicação Full-Stack SpringBoot + React

services:
  - type: web
    name: meu-projeto-final
    plan: free
    runtime: docker

    # Diretório raiz onde os comandos de build/start serão executados.
    rootDir: Backend


    # Comando para construir a aplicação.
    buildCommand: |
      cd ../Frontend
      npm install
      npm run build
      rm -rf ../Backend/src/main/resources/static
      mkdir -p ../Backend/src/main/resources/static
      cp -r dist/* ../Backend/src/main/resources/static
      cd ../Backend
      ./mvnw package -DskipTests


    # Comando para iniciar a aplicação.
    startCommand: java -jar target/*.jar

    envVars:
      - key: JAVA_VERSION
        value: 21